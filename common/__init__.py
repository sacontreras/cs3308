from IPython.core.display import display, Markdowndef isnotebook():    try:        shell = get_ipython().__class__.__name__        if shell == 'ZMQInteractiveShell':            return True   # Jupyter notebook or qtconsole        elif shell == 'TerminalInteractiveShell':            return False  # Terminal running IPython        else:            return False  # Other type (?)    except NameError:        return False      # Probably standard Python interpreter    def disp(content):    if isnotebook():        display(Markdown(content.to_markdown() if hasattr(content, 'to_markdown') else content))    else:        print(content)# from https://stackoverflow.com/a/8907269        def strfdelta(tdelta, fmt):    d = {"days": tdelta.days}    d["hours"], rem = divmod(tdelta.seconds, 3600)    d["minutes"], d["seconds"] = divmod(rem, 60)    return fmt.format(**d)